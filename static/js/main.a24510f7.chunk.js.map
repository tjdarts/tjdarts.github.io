{"version":3,"sources":["config.js","i18n.js","theme.js","reportWebVitals.js","components/contexts/OAuthContext/index.js","shared/services/Emitter.js","shared/services/BackgroundImageService/index.js","shared/services/dartboards/Dartboard/index.js","shared/services/dartboards/GranboardDartboard/map.js","shared/services/dartboards/GranboardDartboard/index.js","shared/services/dartboards/BluetoothDartboard/index.js","shared/services/dartboards/KeyboardDartboard/map.js","shared/services/dartboards/KeyboardDartboard/index.js","shared/factories/DartboardFactory/index.js","shared/factories/MessageFactory/index.js","shared/services/Scoreboard/Score/index.js","shared/services/Scoreboard/Round/index.js","shared/services/Scoreboard/index.js","shared/services/GameAwardUtils/index.js","shared/stores/GameStateStore/index.js","shared/stores/UserStore.js","shared/services/GoogleOAuth/index.js","shared/services/PlayerManager/index.js","shared/services/SoundEffectPlayer/index.js","components/contexts/OAuthProvider/index.js","components/ClassicDartGameView/GameScore/styles.js","components/ClassicDartGameView/GameScore/index.js","components/ClassicDartGameView/styles.js","components/ClassicDartGameView/index.js","components/GameMenuView/GameSelectionView/styles.js","components/GameMenuView/GameSelectionView/index.js","components/GameMenuView/PlayerSelectionView/styles.js","components/GameMenuView/PlayerSelectionView/index.js","components/GameMenuView/styles.js","components/GameMenuView/index.js","shared/game/Game/index.js","components/games/CountUpGameView/CountUpGame/index.js","components/games/CountUpGameView/index.js","components/games/ZeroOneGameView/ZeroOneGame/index.js","components/games/ZeroOneGameView/index.js","components/GameView/index.js","components/GameMessagesView/Snackbar/styles.js","components/GameMessagesView/Snackbar/index.js","components/GameMessagesView/Dialog/styles.js","components/GameMessagesView/Dialog/index.js","components/awards/OneBull/styles.js","components/awards/OneBull/index.js","components/GameMessagesView/AnimationDialog/index.js","components/GameMessagesView/GameMessage/index.js","components/GameMessagesView/index.js","components/MenuItemSelector/index.js","components/OptionsView/index.js","components/PlayerCard/styles.js","components/PlayerCard/index.js","components/Scoreboard/styles.js","components/Scoreboard/index.js","components/Scores/styles.js","components/Scores/index.js","components/Typography/styles.js","components/Typography/index.js","components/App/styles.js","components/App/index.js","index.js"],"names":["GAMES","displayName","credit","name","rounds","score","DEFAULT_GAME_CATEGORY","config","mode","dartboard","defaultGameCategory","defaultGames","topGames","maxPlayers","players","Array","keys","map","i","soundTheme","styleTheme","users","i18n","use","LanguageDetector","initReactI18next","init","resources","en","translations","bullseyeAward","winnersAward","zh","fallbackLng","debug","ns","defaultNS","keySeparator","nsSeparator","interpolation","escapeValue","happy","colors","blue","yellow","orange","red","green","purple","black","contrastText","theme","palette","default","gameScore","zIndex","gameAward","typography","fontFamily","join","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","OAuthContext","React","createContext","Emitter","EventEmitter","IMAGES","url","BackgroundImageService","setBackgroundImage","start","randomImage","on","handleGameOn","stop","off","messageId","this","imageIndex","randomIndex","Math","floor","random","length","index","TYPES","steelTip","softTip","CONNECTIONS","builtIn","usb","bluetooth","Dartboard","type","connection","isSteelTipType","isSoftTipType","isBuiltInConnection","isUsbConnection","isBluetoothConnection","types","connections","GranboardDartboard","deviceName","serviceUuid","characteristicUuid","options","valid","device","characteristic","connect","gatt","connected","navigator","requestDevice","filters","services","autoReconnect","addEventListener","handleDeviceAutoReconnect","server","getPrimaryService","service","getCharacteristic","startNotifications","handleDartboardHit","Promise","resolve","disconnect","stopNotifications","removeEventListener","e","value","target","data","byteLength","push","getUint8","toString","slice","symbol","parseInt","emit","console","warn","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","KeyboardDartboard","document","event","keyCode","DartboardFactory","t","getFixedT","MESSAGES","back","id","block","soundEffect","bust","text","dart","dbull","bull","autoHideDuration","gameOn","hatTrick","highTon","lowTon","next","nextPlayer","nextRound","oneBull","sbull","win","MessageFactory","param","message","Score","isValid","displaySymbol","toDisplaySymbol","toValue","calculableSymbol","scoreSymbol","charAt","test","digit","Round","scores","addScore","isNewScoreAddable","Error","error","getCurrentScore","some","s","Scoreboard","roundsLength","round","getCurrentRound","addRound","removeCurrentRound","pop","isLastRoundFinished","GameAwardUtils","darts","isBullseye","toLowerCase","create","sum","sumScores","bullCounter","countBullScores","counter","forEach","GameStateStore","initScore","currentPlayerIndex","currentPlayerDartScores","gameScores","messages","scoreboards","addScoreForCurrentPlayer","concat","addRoundForCurrentPlayer","newRound","deleteCurrentRoundForCurrentPlayer","deletedRound","addMessage","deleteMessage","findIndex","m","splice","clearMessages","setCurrentPlayerIndex","setCurrentPlayerGameScore","increaseCurrentPlayerGameScore","currentPlayerGameScore","decreaseCurrentPlayerGameScore","makeObservable","observable","currentPlayer","computed","currentPlayerScoreboard","action","player","UserStore","email","includes","LOGIN_SUCCESS_MESSAGE","isLogined","LOGIN_FAILURE_MESSAGE","GoogleOAuth","storageItemName","clientId","process","redirectUri","auth","result","params","searchParams","URLSearchParams","window","location","hash","substring","key","Object","localStorage","setItem","JSON","stringify","openSignInForm","parse","getItem","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","response","emailAddresses","has","send","form","createElement","setAttribute","input","appendChild","body","submit","PlayerManager","_players","THEMES","SOUND_EFFECTS","soundEffectService","soundEffects","play","setTheme","loadSoundEffects","Howl","src","OAuthProvider","props","useState","setResult","useEffect","oauth","Provider","children","styles","color","fontSize","textShadow","useStyles","makeStyles","GameScore","classes","className","variant","align","gameName","margin","textTransform","display","justifyContent","alignItems","position","top","left","width","height","scoreboard","float","marginLeft","playerCards","breakpoints","between","ClassicDartGameView","dartScores","useTranslation","totalRounds","Scores","Grid","container","spacing","p","item","xs","PlayerCard","active","game","GameSelectionView","appState","games","history","useHistory","selectedIndex","setSelectedIndex","MenuList","MenuItemSelector","MenuItem","selected","onMouseOver","SoundEffectPlayer","onClick","handleGameSelect","playerManager","PlayerSelectionView","handlePlayersSelect","root","GameMenuView","step","useParams","ActiveView","STATUSES","UNINITIALIZED","INITIALIZED","STARTED","RESUMED","PAUSED","STOPPED","Game","state","isInitialized","isStopped","addListeners","handleChangeButtonClick","resume","isStarted","isPaused","pause","isResumed","removeListeners","onDartboardHit","onChangeButtonClick","onGameOver","getMessage","isLastRound","handleGameOver","switchToNextPlayer","addGameMessage","winners","lastPlayer","lastPlayerScoreboard","statuses","CountUpGame","handleGameMessageOnClose","sort","a","b","filter","winner","CountUpGameView","useMemo","once","GameView","observer","MessagesView","GameMessagesView","onClose","Fragment","ZeroOneGame","reduce","ZeroOneGameView","snackbar","snackbarContent","backgroundColor","Snackbar","setOpen","anchorOrigin","vertical","horizontal","ContentProps","dialogScrollPaper","Dialog","maxWidth","scrollPaper","DialogContent","OneBull","timerId","setTimeout","clearTimeout","AnimationDialog","GameMessage","onMouseOverCallbacks","onClickCallbacks","childrenLength","countMenuItemLength","isArray","child","handleMenuItemSelect","handleMenuItemSubmit","avatar","textAlign","Card","CardHeader","Avatar","toUpperCase","title","CardContent","paddingLeft","lastEightRounds","List","ListItem","ListItemText","primary","j","reverse","Typography","withStyles","_Typography","overflowX","overflowY","backgroundImageUrl","createBrowserHistory","App","useContext","backgroundImage","backgroundImageService","path","render","to","changeLanguage","language","userLanguage","ReactDOM","StrictMode","I18nextProvider","ThemeProvider","createMuiTheme","getElementById"],"mappings":"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","file":"static/js/main.a24510f7.chunk.js","sourcesContent":["const MODE = ['home', 'arcade']\nconst DARTBOARDS = ['keyboard', 'granboard']\nconst GAMES = [\n  { displayName: '301',             credit: 1, name: 'zero-one',        rounds: 15, score: 301 },\n  { displayName: '501',             credit: 2, name: 'zero-one',        rounds: 20, score: 501 },\n  { displayName: '701',             credit: 3, name: 'zero-one',        rounds: 20, score: 701 },\n  { displayName: 'Count-up',        credit: 2, name: 'count-up',        rounds: 8 },\n  { displayName: '3 darts 1 prize', credit: 1, name: '3-darts-1-prize', rounds: 1 }\n]\nconst GAME_CATEGORIES = ['topGames']\nconst GAME_CATEGORY_GAMES = {\n  topGames: [GAMES[0], GAMES[1], GAMES[2], GAMES[3]]\n}\n\nconst DEFAULT_GAME_CATEGORY = GAME_CATEGORIES[0]\nconst DEFAULT_GAMES = GAME_CATEGORY_GAMES[DEFAULT_GAME_CATEGORY]\nconst MAX_PLAYERS = 4\nconst config = {\n  // language: 'en',\n  mode: MODE[0],\n  dartboard: process.env.REACT_APP_ENV === 'production' ? DARTBOARDS[1] : DARTBOARDS[0],\n  defaultGameCategory: DEFAULT_GAME_CATEGORY,\n  defaultGames: DEFAULT_GAMES,\n  maxPlayers: MAX_PLAYERS,\n  players: [...Array(MAX_PLAYERS).keys()].map(i => ({ name: `Player ${i + 1}` })),\n  soundTheme: 'default',\n  styleTheme: 'default',\n  users: ['itoyxd@gmail.com']\n}\n\nexport default config\n","import i18n from 'i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport { initReactI18next } from 'react-i18next'\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: {\n        translations: {\n          '01 game': '01 game',\n          '301': '301',\n          '501': '501',\n          '701': '701',\n          'Back': 'Back',\n          'Connect dartboard': 'Connect dartboard',\n          'Count-up': 'Count-up',\n          'Game on': 'Game on',\n          '1 player': '1 player',\n          '2 players': '2 players',\n          '3 players': '3 players',\n          '4 players': '4 players',\n          'One bull': 'One bull',\n          'Player 1': 'Player 1',\n          'Player 2': 'Player 2',\n          'Player 3': 'Player 3',\n          'Player 4': 'Player 4',\n          'Press 🔴 to change player': 'Press 🔴 to change player',\n          'Press 🔴 to next round': 'Press 🔴 to next round',\n          'Rounds': 'Rounds',\n          '😱 Bust 💔': '😱 Bust 💔',\n          bullseyeAward: '🔥 {{bull}} 🎯',\n          winnersAward: '🏆 {{name}} wins! ✌️'\n        }\n      },\n      zh: {\n        translations: {\n          '01 game': '01 遊戲',\n          '301': '參零壹',\n          '501': '伍零壹',\n          '701': '柒零壹',\n          'Back': '上一頁',\n          'Connect dartboard': '連接飛鏢靶',\n          'Count-up': '分數跑起來',\n          'Game on': '開始遊戲',\n          '1 player': '一名玩家',\n          '2 players': '兩名玩家',\n          '3 players': '三名玩家',\n          '4 players': '四名玩家',\n          'One bull': '一隻穿雲紅心箭 😜',\n          'Player 1': '台客',\n          'Player 2': '灣灣',\n          'Player 3': '金老',\n          'Player 4': '鏢哥',\n          'Press 🔴 to change player': '按 🔴 換下一個玩家',\n          'Press 🔴 to next round': '按 🔴 到下一個回合',\n          'Rounds': '回合',\n          '😱 Bust 💔': '😱 Bust 殘念 💔',\n          bullseyeAward: '🔥 {{bull}} 🎯',\n          winnersAward: '🏆 {{name}} 獲勝！ ✌️'\n        }\n      }\n    },\n    fallbackLng: 'en',\n    debug: true,\n    ns: ['translations'],\n    defaultNS: 'translations',\n    keySeparator: '>',\n    nsSeparator: '|',\n    interpolation: {\n      escapeValue: false\n    }\n  })\n\nexport default i18n\n","const happy = {\n  colors: {\n    blue: '#01befe',\n    yellow: '#ffdd00',\n    orange: '#ff7d00',\n    red: '#ff006d',\n    green: '#adff02',\n    purple: '#8f00ff',\n    black: '#000000'\n  },\n  contrastText: '#ffffff'\n}\n\nconst theme = {\n  palette: {\n    default: happy,\n    happy: happy\n  },\n  players: [\n    happy.colors.blue,\n    happy.colors.red,\n    happy.colors.yellow,\n    happy.colors.purple\n  ],\n  gameScore: {\n    zIndex: 1600 // On the top of the Material UI's Dialog component.\n  },\n  gameAward: {\n    zIndex: 1601\n  },\n  typography: {\n    fontFamily: [\n      '\"Russo One\"', // https://fonts.google.com/specimen/Russo+One\n      '\"Noto Serif TC\"', //https://fonts.google.com/specimen/Noto+Serif+TC?subset=chinese-traditional\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(',')\n  }\n}\n\nexport default theme\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\n\nexport const OAuthContext = React.createContext()\n","import EventEmitter from 'eventemitter3'\n\nconst Emitter = new EventEmitter()\n\nif (process.env.REACT_APP_ENV === 'dev') {\n  window.Emitter = Emitter\n}\n\nexport default Emitter\n","import Emitter from 'shared/services/Emitter'\n\nconst IMAGES = [\n  // The image of Brandenburger Tor is from https://www.pexels.com/photo/concrete-structure-2570063\n  { name: 'Brandenburger Tor', url: 'https://images.pexels.com/photos/2570063/pexels-photo-2570063.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260' },\n  { name: 'Hallstatt', url: '/resources/images/background/hallstatt.jpg' },\n  // The image of Taipei 101 is from https://www.pexels.com/photo/architecture-buildings-business-city-260566\n  { name: 'Taipei 101', url: 'https://images.pexels.com/photos/260566/pexels-photo-260566.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260'}\n]\n\nexport default class BackgroundImageService {\n  constructor(setBackgroundImage) {\n    this.setBackgroundImage = setBackgroundImage\n    this.imageIndex = this.randomIndex\n  }\n\n  get randomIndex() {\n    return Math.floor(Math.random() * Math.floor(IMAGES.length))\n  }\n\n  get randomImage() {\n    let index\n    do {\n      index = this.randomIndex\n    } while (index === this.imageIndex)\n    this.imageIndex = index\n    return IMAGES[index]\n  }\n\n  start = () => {\n    this.setBackgroundImage(this.randomImage)\n    Emitter.on('GAME_MESSAGE', this.handleGameOn)\n  }\n\n  stop = () => Emitter.off('GAME_MESSAGE', this.handleGameOn)\n\n  handleGameOn = messageId => messageId === 'gameOn' && this.setBackgroundImage(this.randomImage)\n}\n","const TYPES = {\n  steelTip: 'steel-tip',\n  softTip: 'soft-tip'\n}\nconst CONNECTIONS = {\n  builtIn: 'built-in',\n  usb: 'usb',\n  bluetooth: 'bluetooth'\n}\n\nexport default class Dartboard {\n  type = TYPES.softTip\n  connection = CONNECTIONS.builtIn\n\n  isSteelTipType = () => this.type === TYPES.steelTip\n\n  isSoftTipType = () => this.type === TYPES.softTip\n\n  isBuiltInConnection = () => this.connection === CONNECTIONS.builtIn\n\n  isUsbConnection = () => this.connection === CONNECTIONS.usb\n\n  isBluetoothConnection = () => this.connection === CONNECTIONS.bluetooth\n}\n\nDartboard.types = TYPES\nDartboard.connections = CONNECTIONS\n","const map = {\n  0x322e3340:     'S1I', 0x322e3540:    'S1O', 0x322e3640:     'D1', 0x322e3440:    'T1',\n  0x392e3140:     'S2I', 0x392e3240:    'S2O', 0x382e3240:     'D2', 0x392e3040:    'T2',\n  0x372e3140:     'S3I', 0x372e3240:    'S3O', 0x382e3440:     'D3', 0x372e3040:    'T3',\n  0x302e3140:     'S4I', 0x302e3540:    'S4O', 0x302e3640:     'D4', 0x302e3340:    'T4', \n  0x352e3140:     'S5I', 0x352e3440:    'S5O', 0x342e3640:     'D5', 0x352e3240:    'T5',\n  0x312e3040:     'S6I', 0x312e3340:    'S6O', 0x342e3440:     'D6', 0x312e3140:    'T6',\n  0x31312e3140:   'S7I', 0x31312e3440:  'S7O', 0x382e3640:     'D7', 0x31312e3240:  'T7',\n  0x362e3240:     'S8I', 0x362e3540:    'S8O', 0x362e3640:     'D8', 0x362e3440:    'T8',\n  0x392e3340:     'S9I', 0x392e3540:    'S9O', 0x392e3640:     'D9', 0x392e3440:    'T9',\n  0x322e3040:    'S10I', 0x322e3240:   'S10O', 0x342e3340:    'D10', 0x322e3140:   'T10',\n  0x372e3340:    'S11I', 0x372e3540:   'S11O', 0x372e3640:    'D11', 0x372e3440:   'T11',\n  0x352e3040:    'S12I', 0x352e3540:   'S12O', 0x352e3640:    'D12', 0x352e3340:   'T12',\n  0x302e3040:    'S13I', 0x302e3440:   'S13O', 0x342e3540:    'D13', 0x302e3240:   'T13',\n  0x31302e3340:  'S14I', 0x31302e3540: 'S14O', 0x31302e3640:  'D14', 0x31302e3440: 'T14',\n  0x332e3040:    'S15I', 0x332e3240:   'S15O', 0x342e3240:    'D15', 0x332e3140:   'T15',\n  0x31312e3040:  'S16I', 0x31312e3540: 'S16O', 0x31312e3640:  'D16', 0x31312e3340: 'T16',\n  0x31302e3140:  'S17I', 0x31302e3240: 'S17O', 0x382e3340:    'D17', 0x31302e3040: 'T17',\n  0x312e3240:    'S18I', 0x312e3540:   'S18O', 0x312e3640:    'D18', 0x312e3440:   'T18',\n  0x362e3140:    'S19I', 0x362e3340:   'S19O', 0x382e3540:    'D19', 0x362e3040:   'T19',\n  0x332e3340:    'S20I', 0x332e3540:   'S20O', 0x332e3640:    'D20', 0x332e3440:   'T20',\n  0x382e3040:   'SBULL', 0x342e3040:  'DBULL', 0x42544e40: 'CHANGE'\n}\n\nexport default map\n","import BluetoothDartboard from 'shared/services/dartboards/BluetoothDartboard'\nimport map from './map'\n\nexport default class GranboardDartboard extends BluetoothDartboard {\n  constructor() {\n    super('GRANBOARD', '442f1570-8a00-9a28-cbe1-e1d4212d53eb', '442f1571-8a00-9a28-cbe1-e1d4212d53eb')\n    this.map = map\n  }\n}\n","import Emitter from 'shared/services/Emitter'\nimport Dartboard from '../Dartboard'\n\nexport default class BluetoothDartboard extends Dartboard {\n  connection = Dartboard.connections.bluetooth\n\n  valid = true\n\n  map = null\n\n  device = null\n\n  characteristic = null\n\n  constructor(deviceName, serviceUuid, characteristicUuid, options = {}) {\n    super()\n    if (!navigator.bluetooth) {\n      console.warn('Web Bluetooth is not supported.')\n      return { valid: false }\n    }\n    this.deviceName = deviceName\n    this.serviceUuid = serviceUuid\n    this.characteristicUuid = characteristicUuid\n    this.options = { autoReconnect: true, ...options }\n    this.map = {}\n  }\n\n  get connected() {\n    return this.device && this.device.gatt.connected\n  }\n\n  connect = () => {\n    const { device, deviceName, serviceUuid, characteristicUuid, options } = this\n    if (device && device.gatt.connected) {\n      return\n    }\n    return navigator.bluetooth.requestDevice({ filters: [{ name: deviceName }, { services: [serviceUuid] }]})\n      .then(device => {\n        this.device = device\n        options.autoReconnect && device.addEventListener('gattserverdisconnected', this.handleDeviceAutoReconnect)\n        return device.gatt.connect()\n      })\n      .then(server => server.getPrimaryService(serviceUuid))\n      .then(service => service.getCharacteristic(characteristicUuid))\n      .then(characteristic => {\n        this.characteristic = characteristic\n        return characteristic.startNotifications()\n      })\n      .then(() => {\n        this.characteristic.addEventListener('characteristicvaluechanged', this.handleDartboardHit)\n        return Promise.resolve()\n      })\n  }\n\n  disconnect = () => {\n    const { characteristic, device, options } = this\n    if (characteristic) {\n      return characteristic.stopNotifications()\n        .then(() => characteristic.removeEventListener('characteristicvaluechanged', this.handleDartboardHit))\n        .then(() => {\n          if (device && device.gatt.connected) {\n            options.autoReconnect && device.removeEventListener('gattserverdisconnected', this.handleDeviceAutoReconnect)\n            device.gatt.disconnect()\n          }\n          return Promise.resolve()\n        })\n    }\n    return Promise.resolve()\n  }\n\n  handleDartboardHit = e => {\n    const { value } = e.target\n    let data = []\n    for (let i = 0; i < value.byteLength; i++) {\n      data.push(('00' + value.getUint8(i).toString(16)).slice(-2))\n    }\n    const symbol = this.map[parseInt(`0x${data.join('')}`)]\n    if (symbol) {\n      if (symbol !== 'CHANGE') {\n        Emitter.emit('DARTBOARD_HIT', symbol)\n      } else {\n        Emitter.emit('CHANGE_BUTTON_CLICK')\n      }\n    }\n  }\n\n  handleDeviceAutoReconnect = () => {\n    this.device.gatt.connect()\n  }\n}\n","const map = {\n   32:    'S1I',  33:   'S1O',  34:  'D1',  35:  'T1',  36:  'S2I',  37:  'S2O',  38:  'D2',  39:  'T2',\n   40:    'S3I',  41:   'S3O',  42:  'D3',  43:  'T3',  44:  'S4I',  45:  'S4O',  46:  'D4',  47:  'T4', \n   48:    'S5I',  49:   'S5O',  50:  'D5',  51:  'T5',  52:  'S6I',  53:  'S6O',  54:  'D6',  55:  'T6',\n   56:    'S7I',  57:   'S7O',  58:  'D7',  59:  'T7',  60:  'S8I',  61:  'S8O',  62:  'D8',  63:  'T8',\n   64:    'S9I',  65:   'S9O',  66:  'D9',  67:  'T9',  68: 'S10I',  69: 'S10O',  70: 'D10',  71: 'T10',\n   72:   'S11I',  73:  'S11O',  74: 'D11',  75: 'T11',  76: 'S12I',  77: 'S12O',  78: 'D12',  79: 'T12',\n   80:   'S13I',  81:  'S13O',  82: 'D13',  83: 'T13',  84: 'S14I',  85: 'S14O',  86: 'D14',  87: 'T14',\n   88:   'S15I',  89:  'S15O',  90: 'D15',  91: 'T15',  92: 'S16I',  93: 'S16O',  94: 'D16',  95: 'T16',\n   96:   'S17I',  97:  'S17O',  98: 'D17',  99: 'T17', 100: 'S18I', 101: 'S18O', 102: 'D18', 103: 'T18',\n   104:  'S19I', 105:  'S19O', 106: 'D19', 107: 'T19', 108: 'S20I', 109: 'S20O', 110: 'D20', 111: 'T20',\n   112: 'SBULL', 113: 'DBULL', 114: 'OUT', 115: 'CHANGE'\n}\n\nexport default map\n","import Emitter from 'shared/services/Emitter'\nimport Dartboard from '../Dartboard'\nimport map from './map'\n\nexport default class KeyboardDartboard extends Dartboard {\n  connection = Dartboard.connections.builtIn\n\n  connected = false\n\n  map = null\n\n  constructor() {\n    super()\n    this.map = map\n  }\n\n  connect = () => {\n    document.addEventListener('keypress', this.handleDartboardHit)\n    this.connected = true\n    return Promise.resolve()\n  }\n\n  disconnect = () => {\n    document.removeEventListener('keypress', this.handleDartboardHit)\n    this.connected = false\n    return Promise.resolve()\n  }\n\n  handleDartboardHit = event => {\n    const { map } = this\n    if (event.keyCode >= 32 && event.keyCode <= 114) {\n      Emitter.emit('DARTBOARD_HIT', map[event.keyCode])\n    } else if (map[event.keyCode] === 'CHANGE') {\n      Emitter.emit('CHANGE_BUTTON_CLICK')\n    }\n  }\n}\n","import { GranboardDartboard, KeyboardDartboard } from 'shared/services/dartboards'\n\nexport default class DartboardFactory {\n  static create(name) {\n    switch (name) {\n      case 'granboard':\n        return new GranboardDartboard()\n      case 'keyboard':\n      default:\n        return new KeyboardDartboard()\n    }\n  }\n}\n","import i18n from 'i18n'\n\nconst t = i18n.getFixedT()\nconst MESSAGES = {\n  back: { id: 'back', type: 'sound', block: false, soundEffect: 'back' },\n  bust: { id: 'bust', type: 'dialog', text: t('😱 Bust 💔'), block: true, soundEffect: 'bust' },\n  dart: { id: 'dart', type: 'sound', block: false, soundEffect: 'dart' },\n  dbull: bull => ({ id: 'dbull', type: 'snackbar', text: t('bullseyeAward', { bull }), autoHideDuration: 1500, block: false, soundEffect: 'dbull' }),\n  gameOn: { id: 'gameOn', type: null, block: false},\n  hatTrick: { id: 'hatTrick', type: 'animationDialog', autoHideDuration: 1500, block: false},\n  highTon: { id: 'highTon', type: 'animationDialog', autoHideDuration: 1500, block: false },\n  lowTon: { id: 'lowTon', type: 'animationDialog', autoHideDuration: 1500, block: false },\n  next: { id: 'next', type: 'sound', block: false, soundEffect: 'next' },\n  nextPlayer: { id: 'nextPlayer', type: 'dialog', text: t('Press 🔴 to change player'), block: true },\n  nextRound: { id: 'nextRound', type: 'dialog', text: t('Press 🔴 to next round'), block: true },\n  oneBull: { id: 'oneBull', type: 'animationDialog', autoHideDuration: 1500, block: false },\n  sbull: bull => ({ id: 'sbull', type: 'snackbar', text: t('bullseyeAward', { bull }), autoHideDuration: 1500, block: false, soundEffect: 'sbull' }),\n  win: name => ({ id: 'win', type: 'dialog', text: t('winnersAward', { name }), block: true, soundEffect: 'win' })\n}\n\nexport default class MessageFactory {\n  static create(id, param) {\n    let message = null\n    if (MESSAGES[id]) {\n      message = typeof MESSAGES[id] === 'function' ? MESSAGES[id](param) : MESSAGES[id]\n    }\n    return message\n  }\n}\n","export default class Score {\n  valid = true\n\n  constructor(symbol = 'OUT', index = 0, options = { type: 'SOFT_TIP' }) {\n    if (!Score.isValid(symbol)) {\n      return { valid: false }\n    }\n\n    this.symbol = symbol\n    this.index = index\n    this.options = options\n\n    this.displaySymbol = this.toDisplaySymbol()\n    this.value = this.toValue()\n  }\n\n  static isValid(symbol) {\n    let isValid = false\n    if (/^S\\d{1,2}I$/.test(symbol) || /^S\\d{1,2}O$/.test(symbol)) {\n      let digit = parseInt(symbol.slice(1, symbol.length - 1), 10)\n      isValid = (digit >= 1 && digit <= 20)\n    } else if (/^[DT]\\d{1,2}$/.test(symbol)) {\n      let digit = parseInt(symbol.slice(1, symbol.length), 10)\n      isValid = (digit >= 1 && digit <= 20)\n    } else if (/^[SD]BULL$/.test(symbol) || symbol === 'OUT' || symbol === 'BUST') {\n      isValid = true\n    }\n    return isValid\n  }\n\n  // TODO: handle the case where dartboard === 'STEEL_TIP' or mode === 'CRICKET'\n  toValue() {\n    const { symbol } = this\n    const calculableSymbol = this.toDisplaySymbol()\n    const scoreSymbol = calculableSymbol.slice(1, symbol.length)\n    let score\n    switch (calculableSymbol.charAt(0)) {\n      case 'S':\n        score = scoreSymbol === 'BULL' ? 50 : parseInt(scoreSymbol, 10)\n        break\n      case 'D':\n        score = scoreSymbol === 'BULL' ? 50 : parseInt(scoreSymbol, 10) * 2\n        break\n      case 'T':\n        score = parseInt(scoreSymbol, 10) * 3\n        break\n      case 'O': // for OUT\n      case 'B': // for BUST\n      default:\n        score = 0\n    }\n    return score\n  }\n\n  toDisplaySymbol() {\n    const { symbol } = this\n    return (symbol.slice(-1) === 'I' || symbol.slice(-1) === 'O') ?\n      symbol.slice(0, symbol.length - 1) : symbol\n  }\n}\n\n/*\nDartboard Symbols\n\nBullseye\n- SBULL\n- DBULL\n\nSingle Inner Ring\n- S1I\n- S2I\n- S3I\n- S4I\n- S5I\n- S6I\n- S7I\n- S8I\n- S9I\n- S10I\n- S11I\n- S12I\n- S13I\n- S14I\n- S15I\n- S16I\n- S17I\n- S18I\n- S19I\n- S20I\n\nSingle Outer Ring\n- S1O\n- S2O\n- S3O\n- S4O\n- S5O\n- S6O\n- S7O\n- S8O\n- S9O\n- S10O\n- S11O\n- S12O\n- S13O\n- S14O\n- S15O\n- S16O\n- S17O\n- S18O\n- S19O\n- S20O\n\nDouble Ring\n- D1\n- D2\n- D3\n- D4\n- D5\n- D6\n- D7\n- D8\n- D9\n- D10\n- D11\n- D12\n- D13\n- D14\n- D15\n- D16\n- D17\n- D18\n- D19\n- D20\n\nTriple Ring\n- T1\n- T2\n- T3\n- T4\n- T5\n- T6\n- T7\n- T8\n- T9\n- T10\n- T11\n- T12\n- T13\n- T14\n- T15\n- T16\n- T17\n- T18\n- T19\n- T20\n\nOthers\n- OUT\n- BUST\n*/\n","import Score from '../Score'\n\n// ASSUMPTION: always 3 scores per round\n// In any real world dart games, always 3 darts for 3 scores per round.\n// Maybe we can try to do some changes in the future.\nconst SCORES_PER_ROUND = 3\n\nexport default class Round {\n  scores = []\n\n  constructor(index, options) {\n    this.index = index\n    this.options = options\n  }\n\n  addScore = scoreSymbol => {\n    try {\n      if (this.isNewScoreAddable()) {\n        const score = new Score(scoreSymbol, this.scores.length, this.options)\n        if (score.valid) {\n          this.scores.push(score)\n        } else {\n          throw new Error('The `scoreSymbol` is invalid!')\n        }\n        return score\n      } else {\n        throw new Error('The `scores` array cannot contain more than 3 Score objects!')\n      }\n    } catch(e) {\n      console.error(e)\n      return null\n    }\n  }\n\n  getCurrentScore = () => {\n    return this.scores[this.scores.length - 1]\n  }\n\n  isNewScoreAddable = () => {\n    return this.scores.length < SCORES_PER_ROUND && !this.scores.some(s => s.symbol === 'BUST')\n  }\n}\n","import Round from './Round'\nimport Score from './Score'\n\nexport default class Scoreboard {\n  rounds = []\n\n  constructor(roundsLength, options = {}) {\n    this.roundsLength = roundsLength\n    this.options = options\n  }\n\n  addScore = scoreSymbol => {\n    let round = this.getCurrentRound()\n    if (!(round && round.isNewScoreAddable())) {\n      round = this.addRound()\n    }\n    return round.addScore(scoreSymbol)\n  }\n\n  addRound = (round = new Round(this.rounds.length, this.options)) => {\n    try {\n      if (this.rounds.length < this.roundsLength) {\n        this.rounds.push(round)\n      } else {\n        throw new Error(`The \\`rounds\\` array cannot contain more than ${this.roundsLength} Round objects!`)\n      }\n      return round\n    } catch(e) {\n      console.error(e)\n      return null\n    }\n  }\n\n  getCurrentRound = () => {\n    return this.rounds[this.rounds.length - 1]\n  }\n\n  removeCurrentRound = () => {\n    return this.rounds.pop()\n  }\n\n  isLastRoundFinished = () => {\n    const round = this.getCurrentRound()\n    return (this.rounds.length === this.roundsLength) && (round && !round.isNewScoreAddable())\n  }\n}\n\nexport {\n  Scoreboard,\n  Round,\n  Score\n}\n","import { MessageFactory } from 'shared/factories'\nimport { Round, Score } from 'shared/services/Scoreboard'\n\nexport default class GameAwardUtils {\n  static isBullseye(score) {\n    return (score.symbol === 'SBULL' || score.symbol === 'DBULL')\n  }\n\n  static getMessage(darts) {\n    let message = null\n    if (darts instanceof Score) {\n      if (GameAwardUtils.isBullseye(darts)) {\n        const symbol = darts.symbol.toLowerCase()\n        message = MessageFactory.create(symbol, symbol)\n      } else {\n        message = MessageFactory.create('dart')\n      }\n    } else if (darts instanceof Round) {\n      const { scores } = darts\n      const sum = sumScores(scores)\n      const bullCounter = countBullScores(scores)\n      if (sum < 100 && bullCounter === 1) {\n        message = MessageFactory.create('oneBull')\n      } else if (sum >= 100 && sum < 150) {\n        message = MessageFactory.create('lowTon')\n      } else if (bullCounter === 3) {\n        message = MessageFactory.create('hatTrick')\n      } else if (sum >= 151) {\n        message = MessageFactory.create('highTon')\n      }\n    }\n    return message\n  }\n}\n\nconst countBullScores = scores => {\n  let counter = 0\n  scores.forEach(score => (score.symbol === 'SBULL' || score.symbol === 'DBULL') && counter++)\n  return counter\n}\n\nconst sumScores = scores => {\n  let sum = 0\n  scores.forEach(score => sum += score.toValue())\n  return sum\n}\n","import { action, computed, makeObservable, observable } from 'mobx'\nimport { Scoreboard } from 'shared/services'\n\nexport default class GameStateStore {\n  currentPlayerIndex = -1\n  currentPlayerDartScores = []\n  gameScores = []\n  messages = []\n  players = []\n  scoreboards = []\n\n  constructor(players, rounds, initScore = 0) {\n    makeObservable(this, {\n      currentPlayerIndex: observable,\n      currentPlayerDartScores: observable,\n      gameScores: observable,\n      messages: observable,\n      players: observable,\n      scoreboards: observable,\n      currentPlayer: computed,\n      currentPlayerGameScore: computed,\n      currentPlayerScoreboard: computed,\n      addRoundForCurrentPlayer: action,\n      deleteCurrentRoundForCurrentPlayer: action,\n      addMessage: action,\n      deleteMessage: action,\n      clearMessages: action,\n      setCurrentPlayerIndex: action,\n      setCurrentPlayerGameScore: action,\n      increaseCurrentPlayerGameScore: action,\n      decreaseCurrentPlayerGameScore: action\n    })\n    this.players = players\n    players.forEach((player, i) => {\n      player.index = i\n      this.scoreboards[i] = new Scoreboard(rounds)\n      this.scoreboards[i].addRound()\n      this.gameScores[i] = initScore\n    })\n    this.currentPlayerIndex = 0\n  }\n\n  get currentPlayer() {\n    return this.players[this.currentPlayerIndex]\n  }\n\n  get currentPlayerGameScore() {\n    return this.gameScores[this.currentPlayerIndex]\n  }\n\n  get currentPlayerScoreboard() {\n    return this.scoreboards[this.currentPlayerIndex]\n  }\n\n  get lastPlayer() {\n    return this.players[this.players.length - 1]\n  }\n\n  get lastPlayerScoreboard() {\n    return this.scoreboards[this.players.length - 1]  \n  }\n\n  isLastRoundFinished = () => this.scoreboards[this.players.length - 1].isLastRoundFinished()\n\n  addScoreForCurrentPlayer = scoreSymbol => {\n    const score = this.scoreboards[this.currentPlayerIndex].addScore(scoreSymbol)\n    if (this.currentPlayerDartScores.length < 3) {\n      this.currentPlayerDartScores = this.currentPlayerDartScores.concat(score)\n    } else {\n      this.currentPlayerDartScores = [score]\n    }\n    return score\n  }\n\n  addRoundForCurrentPlayer = round => {\n    const newRound = this.scoreboards[this.currentPlayerIndex].addRound(round)\n    if (newRound) {\n      this.currentPlayerDartScores = newRound.scores\n    }\n    return newRound\n  }\n\n  deleteCurrentRoundForCurrentPlayer = () => {\n    const deletedRound = this.scoreboards[this.currentPlayerIndex].removeCurrentRound()\n    const round = this.scoreboards[this.currentPlayerIndex].getCurrentRound()\n    if (round) {\n      this.currentPlayerDartScores = round.scores\n    } else {\n      this.currentPlayerDartScores = []\n    }\n    return deletedRound\n  }\n\n  addMessage = message => message && (this.messages = this.messages.concat(message))\n\n  deleteMessage = id => {\n    const index = this.messages.findIndex(m => m.id = id)\n    index !== -1 && this.messages.splice(index, 1)\n  }\n\n  clearMessages = () => this.messages = []\n\n  setCurrentPlayerIndex = index => this.currentPlayerIndex = index\n\n  setCurrentPlayerGameScore = score => this.gameScores[this.currentPlayerIndex] = score\n\n  increaseCurrentPlayerGameScore = score => this.setCurrentPlayerGameScore(this.currentPlayerGameScore + score)\n\n  decreaseCurrentPlayerGameScore = score => this.setCurrentPlayerGameScore(this.currentPlayerGameScore - score)\n}\n","import config from 'config'\n\nexport default class UserStore {\n  static has(email) {\n    return config.users.includes(email)\n  }\n}\n","import { UserStore } from 'shared/stores'\n\nconst LOGIN_SUCCESS_MESSAGE = { isLogined: true }\nconst LOGIN_FAILURE_MESSAGE = { isLogined: false }\n\nexport default class GoogleOAuth {\n  constructor(\n    storageItemName,\n    clientId = process.env.REACT_APP_GOOLGE_CLIENT_ID,\n    redirectUri = process.env.REACT_APP_HOST\n  ) {\n    this.storageItemName = storageItemName\n    this.clientId = clientId\n    this.redirectUri = redirectUri\n  }\n\n  auth = () => {\n    return this.isLogined().then(result => {\n      if (!result.isLogined) {\n        let params = {}\n        const searchParams = new URLSearchParams(window.location.hash.substring(1))\n        for (const [key, value] of searchParams) {\n          params[key] = value\n        }\n        if (Object.keys(params).length > 0) {\n          localStorage.setItem(this.storageItemName, JSON.stringify(params))\n          if (params['state'] && params['state'] === 'try_sample_request') {\n            return this.isLogined()\n          }\n        } else {\n          this.openSignInForm()\n        }\n      }\n      return Promise.resolve(result)\n    })\n  }\n\n  isLogined = () =>\n    new Promise(resolve => {\n      const params = JSON.parse(localStorage.getItem(this.storageItemName))\n      if (params && params['access_token']) {\n        const xhr = new XMLHttpRequest()\n        xhr.open('GET', `https://people.googleapis.com/v1/people/me?personFields=emailAddresses&access_token=${params['access_token']}`)\n        xhr.onreadystatechange = () => {\n          try {\n            if (xhr.readyState === 4) {\n              if (xhr.status === 200) {\n                const email = JSON.parse(xhr.response).emailAddresses[0].value\n                if (UserStore.has(email)) {\n                  resolve(LOGIN_SUCCESS_MESSAGE)\n                } else {\n                  resolve(LOGIN_FAILURE_MESSAGE)\n                }\n              } else {\n                resolve(LOGIN_FAILURE_MESSAGE)\n              }\n            }\n          } catch (e) {\n            console.error(e)\n            resolve(LOGIN_FAILURE_MESSAGE)\n          }\n        }\n        xhr.send(null)\n      } else {\n        resolve(LOGIN_FAILURE_MESSAGE)\n      }\n    })\n\n  openSignInForm = () => {\n    const form = document.createElement('form')\n    form.setAttribute('method', 'GET')\n    form.setAttribute('action', 'https://accounts.google.com/o/oauth2/v2/auth')\n    const params = {\n      'client_id': this.clientId,\n      'redirect_uri': this.redirectUri,\n      'scope': 'profile https://www.googleapis.com/auth/user.emails.read',\n      'state': 'try_sample_request',\n      'response_type': 'token'\n    }\n    for (let param in params) {\n      const input = document.createElement('input')\n      input.setAttribute('type', 'hidden')\n      input.setAttribute('name', param)\n      input.setAttribute('value', params[param])\n      form.appendChild(input)\n    }\n    document.body.appendChild(form)\n    form.submit()\n  }\n}\n","import i18n from 'i18n'\n\nconst t = i18n.getFixedT()\n\nexport default class PlayerManager {\n  constructor(players) {\n    this._players = players\n  }\n\n  get players() {\n    return this._players.map(player => ({ name: t(player.name) }))\n  }\n}\n","import { Howl } from 'howler'\nimport config from 'config'\n\nconst THEMES = ['default']\nconst SOUND_EFFECTS = [\n  'hover', 'press', 'back', 'game_on', 'next',\n  'dart', 'sbull', 'dbull', 'bust', 'win'\n]\n\nexport class SoundEffectService {\n  theme = 'default'\n\n  soundEffects = {}\n\n  constructor() {\n    this.setTheme(config.soundTheme)\n  }\n\n  play = soundEffect =>\n    new Promise(resolve => {\n      this.soundEffects[soundEffect].on('end', resolve)\n      this.soundEffects[soundEffect].play() \n    })\n\n  setTheme = theme => {\n    if (THEMES.includes(theme)) {\n      this.theme = theme\n    }\n    this.loadSoundEffects()\n  }\n\n  loadSoundEffects = () => {\n    SOUND_EFFECTS.forEach(soundEffect => {\n      this.soundEffects[soundEffect] = new Howl({ src: [`/resources/sound-effects/${this.theme}/${soundEffect}.webm`] })\n      this.soundEffects[soundEffect].on('loaderror', () => {\n        this.soundEffects[soundEffect] = new Howl({ src: [`/resources/sound-effects/default/${soundEffect}.webm`] })\n      })\n    })\n  }\n}\n\nconst soundEffectService = new SoundEffectService()\n\nexport default soundEffectService\n","import { useEffect, useState } from 'react'\nimport { GoogleOAuth } from 'shared/services'\nimport { OAuthContext } from '../OAuthContext'\n\nexport default function OAuthProvider(props) {\n  const [result, setResult] = useState({ isLogined: false })\n  useEffect(() => {\n    const oauth = new GoogleOAuth('oauth2-tjdart-params')\n    window.oauth = oauth\n    oauth.auth().then(result => setResult(result))\n  }, [setResult])\n  return (\n    <OAuthContext.Provider value={result}>\n      {props.children}\n    </OAuthContext.Provider>\n  )\n}\n","const styles = theme => ({\n  score: {\n    color: props => `${theme.players[props.index]}e0`,\n    fontSize: '27rem',\n    textShadow: '-10px 0 white, 0 10px white, 10px 0 white, 0 -10px white'\n  }\n})\n\nexport default styles\n","import { Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function GameScore(props) {\n  const { score, index } = props\n  const classes = useStyles({ index })\n  return (\n    <Typography className={classes.score} variant='h1' align='center'>{score}</Typography>\n  )\n}\n","const styles = theme => ({\n  gameName: {\n    margin: '24px',\n    textTransform: 'uppercase',\n    textShadow: '-3px 0 white, 0 3px white, 3px 0 white, 0 -3px white'\n  },\n  gameScore: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    position: 'fixed',\n    zIndex: theme.gameScore.zIndex,\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%'\n  },\n  scoreboard: {\n    float: 'left',\n    marginLeft: '24px'\n  },\n  scores: {\n    float: 'right',\n    width: '220px'\n  },\n  playerCards: {\n    [theme.breakpoints.between('sm', 'xl')]: {\n      position: 'fixed'\n    },\n    bottom: 0,\n    left: 0\n  }\n})\n\nexport default styles\n","import { useTranslation } from 'react-i18next'\nimport { Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { PlayerCard, Scoreboard, Scores, Typography } from 'components'\nimport GameScore from './GameScore'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function ClassicDartGameView(props) {\n  const { name, player, players, dartScores, scoreboard, gameScore, gameScores } = props\n  const { t } = useTranslation()\n  const classes = useStyles()\n  return (\n    <div>\n      <div className={classes.gameScore}>\n        <GameScore index={player.index} name={player.name} score={gameScore} />\n      </div>\n      <Typography className={classes.gameName} variant='h4' align='center'>{t(name)}</Typography>\n      <Scoreboard className={classes.scoreboard} rounds={scoreboard.rounds} totalRounds={scoreboard.roundsLength} />\n      <Scores className={classes.scores} scores={dartScores} />\n      <Grid container className={classes.playerCards} spacing={3}>\n        {\n          players.map((p, i) =>\n            <Grid key={i} item xs={3}>\n              <PlayerCard index={i} name={p.name} score={gameScores[i]} active={i === player.index} />\n            </Grid>\n          )\n        }\n      </Grid>\n    </div>\n  )\n}\n","const styles = theme => ({\n  game: {\n    textTransform: 'uppercase'\n  }\n})\n\nexport default styles\n","import { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { MenuList, MenuItem } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\nimport { makeStyles } from '@material-ui/core/styles'\nimport config from 'config'\nimport { SoundEffectPlayer } from 'shared/services'\nimport { MenuItemSelector, Typography } from 'components'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function GameSelectionView(props) {\n  const { appState } = props\n  const classes = useStyles()\n  const { defaultGames: games } = config\n  const history = useHistory()\n  const [selectedIndex, setSelectedIndex] = useState(0)\n  const { t } = useTranslation()\n\n  const handleGameSelect = game => {\n    SoundEffectPlayer.play('press')\n    appState.game = game\n    history.push('/game-menu/players')\n  }\n  return (\n    <MenuList>\n      <MenuItemSelector selectedIndex={selectedIndex} setSelectedIndex={setSelectedIndex}>\n        {\n          games.map((game, i) => (\n            <MenuItem key={i} selected={i === selectedIndex} onMouseOver={() => SoundEffectPlayer.play('hover') }\n                      onClick={() => handleGameSelect({ name: game.name, rounds: game.rounds, score: game.score }) }>\n              <Typography className={classes.game} variant='h2'>{t(game.displayName)}</Typography>\n            </MenuItem>\n          ))\n        }\n      </MenuItemSelector>\n    </MenuList>\n  )\n}\n","const styles = theme => ({\n  player: {\n    textTransform: 'capitalize'\n  }\n})\n\nexport default styles\n","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { MenuList, MenuItem } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\nimport config from 'config'\nimport { Emitter, PlayerManager, SoundEffectPlayer } from 'shared/services'\nimport { MenuItemSelector, Typography } from 'components'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\nconst playerManager = new PlayerManager(config.players)\n\nexport default function PlayerSelectionView(props) {\n  const { appState  } = props\n  const classes = useStyles()\n  const history = useHistory()\n  const { players } = playerManager\n  const [selectedIndex, setSelectedIndex] = useState(0)\n  const { t } = useTranslation()\n\n  const handlePlayersSelect = players => {\n    SoundEffectPlayer.play('game_on')\n    appState.players = players\n    Emitter.emit('GAME_MESSAGE', 'gameOn')\n    history.push('/game')\n  }\n  const handleBackButtonClick = () => {\n    SoundEffectPlayer.play('back')\n    history.push('/game-menu/games')\n  }\n  return (\n    <MenuList>\n      <MenuItemSelector selectedIndex={selectedIndex} setSelectedIndex={setSelectedIndex}>\n        {\n          [...Array(players.length).keys()].map(i => (\n            <MenuItem key={i} selected={i === selectedIndex} onMouseOver={() => SoundEffectPlayer.play('hover') } onClick={() => handlePlayersSelect(players.slice(0, i + 1))}>\n              <Typography className={classes.player} variant='h2'>{t(`${i + 1} player${i > 0 ? 's' : ''}`)}</Typography>\n            </MenuItem>\n          ))\n        }\n        <MenuItem selected={players.length === selectedIndex} onMouseOver={() => SoundEffectPlayer.play('hover') } onClick={handleBackButtonClick}>\n          <Typography variant='h3'>{t('Back')}</Typography>\n        </MenuItem>\n      </MenuItemSelector>\n    </MenuList>\n  )\n}\n","const styles = theme => ({\n  root: {\n    margin: '24px'\n  }\n})\n\nexport default styles\n","import { useParams } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport GameSelectionView from './GameSelectionView'\nimport PlayerSelectionView from './PlayerSelectionView'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function GameMenuView(props) {\n  const { appState } = props\n  const classes = useStyles()\n  const { step } = useParams()\n  const ActiveView = props => {\n    switch(props.step) {\n      case 'games':\n        return <GameSelectionView appState={appState} />\n      case 'players':\n        return <PlayerSelectionView appState={appState} />\n      default:\n        return null\n    }\n  }\n  return <div className={classes.root}><ActiveView step={step} /></div>\n}\n","import { GameStateStore } from 'shared/stores'\nimport { MessageFactory } from 'shared/factories'\nimport { Emitter, GameAwardUtils } from 'shared/services'\n\nconst STATUSES = {\n  UNINITIALIZED: 0,\n  INITIALIZED: 1,\n  STARTED: 2,\n  RESUMED: 3,\n  PAUSED: 4,\n  STOPPED: 5\n}\n\nexport default class Game {\n  state = null\n  status = STATUSES.UNINITIALIZED\n\n  constructor(players, options = { rounds: 8, score: 0 }) {\n    this.players = players\n    this.options = options\n    this.state = new GameStateStore(players, options.rounds, options.score)\n    this.status = STATUSES.INITIALIZED\n  }\n\n  /**\n   * Decide who is the winner when the game is over.\n   * @abstract\n   * @return {Array<Object>}\n   */\n  get winners() { return [] }\n\n  start = () => {\n    if (this.isInitialized() || this.isStopped()) {\n      this.addListeners()\n      Emitter.on('CHANGE_BUTTON_CLICK', this.handleChangeButtonClick)\n      this.status = STATUSES.STARTED\n      this.resume()\n    }\n  }\n\n  resume = () => {\n    if (this.isStarted() || this.isPaused()) {\n      Emitter.on('DARTBOARD_HIT', this.handleDartboardHit)\n      this.status = STATUSES.RESUMED\n    }\n  }\n\n  pause = () => {\n    if (this.isResumed()) {\n      Emitter.off('DARTBOARD_HIT', this.handleDartboardHit)\n      this.status = STATUSES.PAUSED\n    }\n  }\n\n  stop = () => {\n    if (this.isStarted() || this.isResumed() || this.isPaused()) {\n      Emitter.off('DARTBOARD_HIT', this.handleDartboardHit)\n      Emitter.off('CHANGE_BUTTON_CLICK', this.handleChangeButtonClick)\n      this.removeListeners()\n      this.status = STATUSES.STOPPED\n    }\n  }\n\n  addListeners = () => {\n    Emitter.on('GAME_START', this.start)\n    Emitter.on('GAME_RESUME', this.resume)\n    Emitter.on('GAME_PAUSE', this.pause)\n    Emitter.on('GAME_STOP', this.stop)\n  }\n\n  removeListeners = () => {\n    Emitter.off('GAME_START', this.start)\n    Emitter.off('GAME_RESUME', this.resume)\n    Emitter.off('GAME_PAUSE', this.pause)\n    Emitter.off('GAME_STOP', this.stop)\n  }\n\n  isInitialized = () => this.status === STATUSES.INITIALIZED\n\n  isStarted = () => this.status === STATUSES.STARTED\n\n  isResumed = () => this.status === STATUSES.RESUMED\n\n  isPaused = () => this.status === STATUSES.PAUSED\n\n  isStopped = () => this.status === STATUSES.STOPPED\n\n  /**\n   * This'll be triggered after a player throws a dart which hits the dartboard.\n   * @abstract\n   */\n  onDartboardHit = score => {}\n\n  /**\n   * This'll be triggered after a player clicks the change button.\n   * @abstract\n   */\n  onChangeButtonClick = () => {}\n\n  /**\n   * This'll be triggered when someone wins the game or all players finish their all rounds.\n   * @abstract\n   */\n  onGameOver = () => {}\n\n  handleDartboardHit = scoreSymbol => {\n    const { addScoreForCurrentPlayer, currentPlayerScoreboard: scoreboard } = this.state\n    const score = addScoreForCurrentPlayer(scoreSymbol)\n    if (score) {\n      this.state.addMessage(GameAwardUtils.getMessage(score))\n      score.index === 2 && this.state.addMessage(GameAwardUtils.getMessage(scoreboard.getCurrentRound()))\n      this.onDartboardHit(score)\n    }\n  }\n\n  handleChangeButtonClick = () => {\n    if (!this.isLastRound()) {\n      this.onChangeButtonClick()\n      this.switchToNextPlayer()\n    } else {\n      this.handleGameOver()\n    }\n  }\n\n  switchToNextPlayer = () => {\n    const index = (this.state.currentPlayerIndex + 1) % this.players.length \n    this.state.setCurrentPlayerIndex(index)\n    this.resume()\n  }\n\n  handleGameOver = () => {\n    this.addGameMessage('win', this.winners[0].name)\n    Emitter.off('CHANGE_BUTTON_CLICK', this.handleChangeButtonClick)\n    this.onGameOver()\n  }\n\n  isLastRound = () =>\n    this.state.currentPlayer === this.state.lastPlayer &&\n    this.state.lastPlayerScoreboard.rounds.length === this.options.rounds\n\n  addGameMessage = (id, param) => {\n    const message = MessageFactory.create(id, param)\n    if (message) {\n      message.block && this.pause()\n      this.state.addMessage(message)\n    }\n  }\n}\n\nGame.statuses = STATUSES\n","import { Game } from 'shared/game'\n\nexport default class CountUpGame extends Game {\n  get winners() {\n    const players = this.state.players.map((player, i) => ({ name: player.name, score: this.state.gameScores[i] }))\n                                      .sort((a, b) => b.score - a.score)\n    return players.filter(winner => winner.score === players[0].score)\n  }\n\n  onDartboardHit = score => {\n    const {\n      currentPlayerScoreboard: scoreboard,\n      increaseCurrentPlayerGameScore,\n      isLastRoundFinished\n    } = this.state\n    increaseCurrentPlayerGameScore(score.value)\n    const round = scoreboard.getCurrentRound()\n    if (isLastRoundFinished()) {\n      this.handleGameOver()\n    } else if (round && round.getCurrentScore().index === 2) {\n      this.addGameMessage('nextPlayer')\n    }\n  }\n\n  onChangeButtonClick = () => {\n    const { addRoundForCurrentPlayer, clearMessages } = this.state\n    addRoundForCurrentPlayer()\n    clearMessages()\n    this.addGameMessage('next')\n  }\n\n  handleGameMessageOnClose = message => {\n    message.block && this.resume()\n    this.state.deleteMessage(message.id)\n  }\n}\n","import React, { useEffect, useMemo } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { observer } from 'mobx-react-lite'\nimport { Emitter } from 'shared/services'\nimport { ClassicDartGameView, GameMessagesView } from 'components'\nimport CountUpGame from './CountUpGame'\n\nexport default function CountUpGameView(props) {\n  const { players, rounds } = props\n  const history = useHistory()\n\n  players.length === 0 && history.push('/game-menu')\n\n  const game = useMemo(() => new CountUpGame(players, { rounds }), [players, rounds])\n  useEffect(() => {\n    game.start()\n    game.onGameOver = () => {\n      Emitter.once('CHANGE_BUTTON_CLICK', () => {\n        game.addGameMessage('back')\n        history.push('/game-menu')\n      })\n    }\n    return () => {\n      game.stop()\n    }\n  }, [game, history])\n\n  const GameView = observer(({ game }) => {\n    const {\n      currentPlayer: player,\n      currentPlayerGameScore: gameScore,\n      currentPlayerDartScores: dartScores,\n      currentPlayerScoreboard: scoreboard,\n      players,\n      gameScores\n    } = game.state\n    return <ClassicDartGameView name='Count-up'\n                                player={player}\n                                gameScore={gameScore}\n                                dartScores={dartScores}\n                                scoreboard={scoreboard}\n                                players={players}\n                                gameScores={gameScores} />\n  })\n  const MessagesView = observer(({ game }) => {\n    const { messages } = game.state\n    return <GameMessagesView messages={messages} onClose={game.handleGameMessageOnClose} />\n  })\n  return (\n    <React.Fragment>\n      <GameView game={game} />\n      <MessagesView game={game} />\n    </React.Fragment>\n  )\n}\n","import { Game } from 'shared/game'\nimport { Round } from 'shared/services/Scoreboard'\n\nexport default class ZeroOneGame extends Game {\n  constructor(players, options = { score: 301, rounds: 15 }) {\n    super(players, options)\n  }\n\n  get winners() {\n    const players = this.state.players.map((player, i) => ({ name: player.name, score: this.state.gameScores[i] }))\n                                      .sort((a, b) => a.score - b.score)\n    return players.filter(winner => winner.score === players[0].score)\n  }\n\n  onDartboardHit = score => {\n    const {\n      isLastRoundFinished,\n      currentPlayerScoreboard: scoreboard,\n      decreaseCurrentPlayerGameScore\n    } = this.state\n    decreaseCurrentPlayerGameScore(score.value)\n\n    const round = scoreboard.getCurrentRound()\n    const { currentPlayerGameScore } = this.state\n    if (currentPlayerGameScore === 0 || isLastRoundFinished()) {\n      this.handleGameOver()\n    } else if (currentPlayerGameScore > 0 && round && round.getCurrentScore().index === 2) {\n      this.addGameMessage('nextPlayer')\n    } else if (currentPlayerGameScore < 0) {\n      this.addGameMessage('bust')\n    }\n  }\n\n  onChangeButtonClick = () => {\n    const {\n      addRoundForCurrentPlayer,\n      clearMessages,\n      currentPlayerGameScore,\n      deleteCurrentRoundForCurrentPlayer,\n      increaseCurrentPlayerGameScore\n    } = this.state\n    clearMessages()\n    if (currentPlayerGameScore < 0) {\n      let round = deleteCurrentRoundForCurrentPlayer()\n      increaseCurrentPlayerGameScore(round.scores.map(s => s.value).reduce((a, b) => a + b))\n      round = new Round(round.index)\n      round.addScore('BUST')\n      addRoundForCurrentPlayer(round)\n    }\n    addRoundForCurrentPlayer()\n    this.addGameMessage('next')\n  }\n\n  handleGameMessageOnClose = message => {\n    message.block && this.resume()\n    this.state.deleteMessage(message.id)\n  }\n}\n","import React, { useEffect, useMemo } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { observer } from 'mobx-react-lite'\nimport { Emitter } from 'shared/services'\nimport { ClassicDartGameView, GameMessagesView } from 'components'\nimport ZeroOneGame from './ZeroOneGame'\n\nexport default function ZeroOneGameView(props) {\n  const { players, rounds, score } = props\n  const history = useHistory()\n\n  players.length === 0 && history.push('/game-menu')\n\n  const game = useMemo(() => new ZeroOneGame(players, { score, rounds }), [players, score, rounds])\n  useEffect(() => {\n    game.start()\n    game.onGameOver = () => {\n      Emitter.once('CHANGE_BUTTON_CLICK', () => {\n        game.addGameMessage('back')\n        history.push('/game-menu')\n      })\n    }\n    return () => {\n      game.stop()\n    }\n  }, [game, history])\n\n  const GameView = observer(({ game }) => {\n    const {\n      currentPlayer: player,\n      currentPlayerGameScore: gameScore,\n      currentPlayerDartScores: dartScores,\n      currentPlayerScoreboard: scoreboard,\n      players,\n      gameScores\n    } = game.state\n    return <ClassicDartGameView name='01 game'\n                                player={player}\n                                gameScore={gameScore}\n                                dartScores={dartScores}\n                                scoreboard={scoreboard}\n                                players={players}\n                                gameScores={gameScores} />\n  })\n  const MessagesView = observer(({ game }) => {\n    const { messages } = game.state\n    return <GameMessagesView messages={messages} onClose={game.handleGameMessageOnClose} />\n  })\n  return (\n    <React.Fragment>\n      <GameView game={game} />\n      <MessagesView game={game} />\n    </React.Fragment>\n  )\n}\n","import { useHistory } from 'react-router-dom'\nimport { CountUpGameView, ZeroOneGameView } from 'components/games'\n\nexport default function GameView(props = { game: {}, players: [] }) {\n  const { game, players } = props\n  const history = useHistory()\n  switch(game.name) {\n    case 'zero-one':\n      return <ZeroOneGameView players={players} score={game.score} rounds={game.rounds} />\n    case 'count-up':\n      return <CountUpGameView players={players} rounds={game.rounds} />\n    default:\n      history.push('/')\n      return null\n  }\n}\n","const styles = theme => ({\n  text: {\n    textTransform: 'uppercase'\n  },\n  snackbar: {\n    width: '100%'\n  },\n  snackbarContent: {\n    color: '#000',\n    backgroundColor: '#fff'\n  }\n})\n\nexport default styles\n","import { useEffect, useState } from 'react'\nimport { Snackbar as MaterialUiSnackbar, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { SoundEffectPlayer } from 'shared/services'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function Snackbar(props) {\n  const { message, onClose } = props\n  const classes = useStyles()\n  const [open, setOpen] = useState(true)\n  useEffect(() => {\n    setOpen(true)\n    message.soundEffect && SoundEffectPlayer.play(message.soundEffect)\n  }, [message])\n  return (\n    <MaterialUiSnackbar\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'center'\n      }}\n      className={classes.snackbar}\n      open={open}\n      autoHideDuration={message.autoHideDuration}\n      onClose={() => {\n        setOpen(false)\n        onClose && onClose(message)\n      }}\n      message={<Typography className={classes.text} variant='h1'>{message.text}</Typography>}\n      ContentProps={{ className: classes.snackbarContent }}\n    />\n  )\n}\n","const styles = theme => ({\n  text: {\n    textTransform: 'uppercase'\n  },\n  dialogScrollPaper: {\n      alignItems: 'flex-end'\n  }\n})\n\nexport default styles\n","import { useEffect } from 'react'\nimport { Dialog as MaterialUiDialog, DialogContent, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { SoundEffectPlayer } from 'shared/services'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function Dialog(props) {\n  const { message } = props\n  const classes = useStyles()\n  useEffect(() => {\n    message.soundEffect && SoundEffectPlayer.play(message.soundEffect)\n  }, [message])\n  return (\n    <MaterialUiDialog open={true} maxWidth={false} classes={{ scrollPaper: classes.dialogScrollPaper }}>\n      <DialogContent>\n        <Typography className={classes.text} variant='h1'>{message.text}</Typography>\n      </DialogContent>\n    </MaterialUiDialog>\n  )\n}\n","const styles = theme => ({\n  root: {\n    position: 'fixed',\n    zIndex: theme.gameAward.zIndex,\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    color: 'white',\n    backgroundColor: 'black',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  text: {\n    textTransform: 'capitalize'\n  }\n})\n\nexport default styles\n","import { useEffect, useState } from 'react'\nimport { useTranslation } from 'react-i18next'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Typography } from 'components'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function OneBull(props) {\n  const { message, onClose } = props\n  const [open, setOpen] = useState(true)\n  const { t } = useTranslation()\n  const classes = useStyles()\n  useEffect(() => {\n    const timerId = setTimeout(() => {\n      setOpen(false)\n      onClose && onClose(message)\n    }, message.autoHideDuration)\n    return () => clearTimeout(timerId)\n  }, [message, onClose, setOpen])\n  if (!open) {\n    return null\n  }\n  return (\n    <div className={classes.root}>\n      <Typography className={classes.text} variant='h1'>{t('One bull')}</Typography>\n    </div>\n  )\n}\n","import { OneBull } from 'components/awards'\n\nexport default function AnimationDialog(props) {\n  const { message, onClose } = props\n  switch(message.id) {\n    case 'oneBull':\n      return <OneBull message={message} onClose={onClose} />\n    case 'lowTon':\n    case 'hatTrick':\n    default:\n      return null\n  }\n}\n","import { SoundEffectPlayer } from 'shared/services'\nimport Snackbar from '../Snackbar'\nimport Dialog from '../Dialog'\nimport AnimationDialog from '../AnimationDialog'\n\nexport default function GameMessage(props) {\n  const { message, onClose } = props\n  switch(message.type) {\n    case 'snackbar':\n      return <Snackbar message={message} onClose={onClose} />\n    case 'dialog':\n      return <Dialog message={message} onClose={onClose} />\n    case 'animationDialog':\n      return <AnimationDialog message={message} onClose={onClose} />\n    case 'sound':\n    default:\n      message.soundEffect && SoundEffectPlayer.play(message.soundEffect)\n      onClose && onClose(message)\n      return null\n  }\n}\n","import React from 'react'\nimport GameMessage from './GameMessage'\n\nexport default function GameMessagesView(props) {\n  const { messages, onClose } = props\n  return (\n    <React.Fragment>\n      {\n        messages.map((message, i) => <GameMessage key={i} message={message} onClose={onClose} />)\n      }\n    </React.Fragment>\n  )\n}\n","import { useEffect } from 'react'\nimport { MenuItem } from '@material-ui/core'\nimport Emitter from 'shared/services/Emitter'\n\nexport default function MenuItemSelector(props) {\n  const { children, selectedIndex, setSelectedIndex } = props\n  useEffect(() => {\n    const onMouseOverCallbacks = []\n    const onClickCallbacks = []\n    const countMenuItemLength = children => {\n      let counter = 0\n      if (children.type === MenuItem) {\n        counter++\n        onMouseOverCallbacks.push(children.props.onMouseOver)\n        onClickCallbacks.push(children.props.onClick)\n      } else if (Array.isArray(children)) {\n        children.forEach(child => {\n          if (child.type === MenuItem) {\n            counter++\n            onMouseOverCallbacks.push(child.props.onMouseOver)\n            onClickCallbacks.push(child.props.onClick)\n          } else if (Array.isArray(child)) {\n            counter += countMenuItemLength(child)\n          }\n        })\n      }\n      return counter\n    }\n    const childrenLength = countMenuItemLength(children)\n\n    const handleMenuItemSelect = () => {\n      setSelectedIndex((selectedIndex + 1) % childrenLength)\n      typeof onMouseOverCallbacks[selectedIndex] === 'function' && onMouseOverCallbacks[selectedIndex]()\n    }\n    const handleMenuItemSubmit = () => typeof onClickCallbacks[selectedIndex] === 'function' && onClickCallbacks[selectedIndex]()\n    Emitter.on('CHANGE_BUTTON_CLICK', handleMenuItemSelect)\n    Emitter.on('DARTBOARD_HIT', handleMenuItemSubmit)\n    return () => {\n      Emitter.off('CHANGE_BUTTON_CLICK', handleMenuItemSelect)\n      Emitter.off('DARTBOARD_HIT', handleMenuItemSubmit)\n    }\n  }, [children, selectedIndex, setSelectedIndex]) // FIXME: Figure out why need to add `selectedIndex` here.\n  return children\n}\n","import { useTranslation } from 'react-i18next'\nimport { MenuList, MenuItem, Typography } from '@material-ui/core'\nimport config from 'config'\nimport DartboardFactory from 'shared/factories/DartboardFactory'\nimport { useHistory } from 'react-router-dom'\n\nconst dartboard = DartboardFactory.create(config.dartboard)\n\nexport default function GameSelectionView() {\n  const { t } = useTranslation()\n  const history = useHistory()\n  return (\n    <MenuList>\n      <MenuItem onClick={() => {\n        dartboard.connect().then(() => dartboard.connected && history.push('/game-menu'))\n      }}>\n        <Typography variant='h2'>{t('Connect dartboard')}</Typography>\n      </MenuItem>\n    </MenuList>\n  )\n}\n","const styles = theme => ({\n  root: {\n    color: props => props.active ? '#ffffff' : '#aaaaaa',\n    backgroundColor: props => props.active ? '#000000dd' : '#00000066'\n  },\n  avatar: {\n    backgroundColor: props => `${theme.players[props.index]}`\n  },\n  score: {\n    textAlign: 'center'\n  }\n})\n\nexport default styles\n","import {\n  Avatar,\n  Card, CardContent, CardHeader,\n  Typography\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function PlayerCard(props) {\n  const { name, score, index, active } = props\n  const classes = useStyles({ index, active })\n  return (\n    <Card className={classes.root}>\n      <CardHeader\n        avatar={\n          <Avatar className={classes.avatar}>{name.charAt(0).toUpperCase()}</Avatar>\n        }\n        title={\n          <Typography variant='h4'>{name}</Typography>\n        }\n      />\n      <CardContent className={classes.score}>\n        <Typography variant='h4'>{score}</Typography>\n      </CardContent>\n    </Card>\n  )\n}\n","const styles = theme => ({\n  text: {\n    textShadow: '-3px 0 white, 0 3px white, 3px 0 white, 0 -3px white'\n  },\n  round: {\n    paddingLeft: 0\n  }\n})\n\nexport default styles\n","import { useTranslation } from 'react-i18next'\nimport { Grid, List, ListItem, ListItemText, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function Scoreboard(props) {\n  const { rounds, totalRounds, className } = props\n  const { t } = useTranslation()\n  const classes = useStyles()\n  const lastEightRounds = rounds.slice(-8)\n  return (\n    <div className={className}>\n      {\n        <List>\n          <ListItem className={classes.round}>\n            <ListItemText primary={\n              <Typography className={classes.text} variant='h4'>\n                {`${rounds.length} / ${totalRounds} ${t('Rounds')}`}\n              </Typography>\n            }/>\n          </ListItem>\n          {\n            [...Array(lastEightRounds.length).keys()].map(i => (\n              <ListItem key={`round${i}`} className={classes.round}>\n                <Grid container>\n                  <Grid item xs={2}>\n                    <ListItemText primary={\n                      <Typography className={classes.text} variant='h6'>\n                        {`${(lastEightRounds[i] && (lastEightRounds[i].index + 1)) || i + 1}. `}\n                      </Typography>\n                    }/>\n                  </Grid>\n                  {\n                    lastEightRounds[i] && lastEightRounds[i].scores.map((score, j) => (\n                      <Grid key={`round${i}-score${j}`} item xs={3}>\n                        <ListItemText primary={\n                          <Typography className={classes.text} variant='h6'>{score.displaySymbol}</Typography>\n                        }/>\n                      </Grid>\n                    ))\n                  }\n                </Grid>\n              </ListItem>\n            )).reverse()\n          }\n        </List>\n      }\n    </div>\n  )\n}\n","const styles = theme => ({\n  text: {\n    marginLeft: '1rem',\n    textShadow: '-3px 0 white, 0 3px white, 3px 0 white, 0 -3px white'\n  }\n})\n\nexport default styles\n","import { List, ListItem, ListItemText, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport styles from './styles'\n\nconst useStyles = makeStyles(styles)\n\nexport default function Scores(props) {\n  const { className, scores } = props\n  const classes = useStyles()\n  return (\n    <List className={className}>\n      {\n        scores.map((score, i) =>\n          <ListItem key={i}>\n            <ListItemText primary={\n              <Typography className={classes.text} variant='h4'>{`${i + 1}. ${score.displaySymbol}`}</Typography>\n            }/>\n          </ListItem>\n        )\n      }\n    </List>\n  )\n}\n","const styles = {\n  root: {\n    color: 'black',\n    textShadow: '-3px 0 white, 0 3px white, 3px 0 white, 0 -3px white'\n  }\n}\n\nexport default styles\n","import { Typography as _Typography } from '@material-ui/core'\nimport { withStyles } from '@material-ui/core/styles'\nimport styles from './styles'\n\nexport default function Typography(props) {\n  const Typography = withStyles(styles)(_Typography)\n  return <Typography {...props} />\n}\n","const styles = theme => ({\n  root: props => ({\n    height: '100vh',\n    overflowX: 'hidden',\n    [theme.breakpoints.between('sm', 'xl')]: {\n      overflowY: 'hidden'\n    },\n    backgroundImage: `url(${props.backgroundImageUrl})`,\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover'\n  })\n})\n\nexport default styles\n","import { useContext, useEffect, useState } from 'react'\nimport { createBrowserHistory } from 'history'\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport config from 'config'\nimport { DartboardFactory } from 'shared/factories'\nimport { BackgroundImageService } from 'shared/services'\nimport { GameMenuView, GameView, OptionsView } from 'components'\nimport { OAuthContext } from 'components/contexts'\nimport styles from './styles'\n\nlet state = {\n  game: {},\n  players: []\n}\nconst dartboard = DartboardFactory.create(config.dartboard)\nconst history = createBrowserHistory()\nconst useStyles = makeStyles(styles)\n\nif (dartboard.isBluetoothConnection()) {\n  history.push('/options')\n} else {\n  dartboard.connect()\n}\n\nexport default function App() {\n  const oauth = useContext(OAuthContext)\n  const [backgroundImage, setBackgroundImage] = useState({})\n  const classes = useStyles({ backgroundImageUrl: backgroundImage.url })\n  useEffect(() => {\n    const backgroundImageService = new BackgroundImageService(setBackgroundImage)\n    backgroundImageService.start()\n    return () => {\n      backgroundImageService.stop()\n      dartboard.disconnect()\n    }\n  }, [])\n  return (\n    <div className={classes.root}>\n      {\n        oauth.isLogined &&\n        <Router>\n          <Switch>\n            <Route path='/game-menu/:step' render={() =>\n              <GameMenuView appState={state} />\n            }/>\n            <Route path=\"/game\" render={() =>\n              <GameView game={state.game} players={state.players} />\n            }/>\n            <Route path=\"/options\" render={() =>\n              <OptionsView />\n            }/>\n            <Route render={() => <Redirect to='/game-menu/games' />} />\n          </Switch>\n        </Router>\n      }\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { I18nextProvider } from 'react-i18next'\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles'\n\nimport config from 'config'\nimport i18n from 'i18n'\nimport theme from 'theme'\nimport reportWebVitals from 'reportWebVitals'\n\nimport { OAuthProvider } from 'components/contexts'\nimport App from 'components/App'\nimport 'index.css'\n\ni18n.changeLanguage(config.language || (window.navigator.userLanguage || window.navigator.language))\n\nReactDOM.render(\n  <React.StrictMode>\n    <I18nextProvider i18n={i18n}>\n      <ThemeProvider theme={createMuiTheme(theme)}>\n        <OAuthProvider>\n          <App />\n        </OAuthProvider>\n      </ThemeProvider>\n    </I18nextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}